{"ast":null,"code":"var _jsxFileName = \"/Users/kimjunhoe/Documents/GitHub/UNTITLED_/src/Component/LectureDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Stomp } from \"@stomp/stompjs\";\nimport SockJS from \"sockjs-client\";\n\n// ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100vh;\n  background-color: black;\n  padding: 55px;\n  box-sizing: border-box;\n`;\n_c = Container;\nconst TitleBar = styled.div`\n  width: 100%;\n  max-width: 1500px;\n  text-align: left;\n  margin-bottom: 30px;\n`;\n_c2 = TitleBar;\nconst VideoTitle = styled.h1`\n  color: white;\n  font-weight: 300;\n  font-size: 40px;\n  margin: 0;\n`;\n_c3 = VideoTitle;\nconst ContentArea = styled.div`\n  display: flex;\n  width: 100%;\n  max-width: 1500px;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 30px;\n`;\n_c4 = ContentArea;\nconst VideoPlayer = styled.div`\n  flex: 4;\n  width: 850px;\n  height: 600px;\n  background-color: #444;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n`;\n_c5 = VideoPlayer;\nconst ChatSection = styled.div`\n  width: 400px;\n  height: 600px;\n  background-color: #333;\n  padding: 20px;\n  box-sizing: border-box;\n  overflow-y: auto;\n  position: relative;\n`;\n_c6 = ChatSection;\nconst ChatInput = styled.input`\n  flex: 1;\n  height: 30px;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-right: 5px;\n  background-color: #666;\n  box-sizing: border-box;\n  /* border: 1px solid black; */\n  color: black;\n`;\n_c7 = ChatInput;\nconst ChatButton = styled.button`\n  width: 80px;\n  height: 30px;\n  margin-top: 10px;\n  background-color: #561689;\n  color: white;\n  border: none;\n  cursor: pointer;\n`;\n_c8 = ChatButton;\nconst ChatControls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  padding: 0 20px;\n  box-sizing: border-box;\n`;\n_c9 = ChatControls;\nexport function LectureDetail() {\n  _s();\n  const {\n    id\n  } = useParams(); // URLì—ì„œ ê°•ì˜ ID ê°€ì ¸ì˜¤ê¸°\n  const [lectureData, setLectureData] = useState(null); // ê°•ì˜ ë°ì´í„°ë¥¼ ì €ìž¥í•  ìƒíƒœ\n  const [chatMessages, setChatMessages] = useState([]); // ì±„íŒ… ë©”ì‹œì§€ë¥¼ ì €ìž¥í•  ìƒíƒœ\n  const [message, setMessage] = useState(\"\"); // ìž…ë ¥í•œ ë©”ì‹œì§€ ìƒíƒœ\n  const [user, setUser] = useState(null); // í˜„ìž¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´\n  const stompClient = useRef(null);\n\n  //ì´ëª¨í‹°ì½˜ì˜ ìœ„ì¹˜ë¥¼ ìƒíƒœë¡œ ê´€ë¦¬\n  const [cursorPosition, setCursorPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    // ë§ˆìš°ìŠ¤ ì´ë™ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n    const handleMouseMove = e => {\n      setCursorPosition({\n        x: e.pageX + 4,\n        y: e.pageY + 4\n      });\n    };\n    document.addEventListener(\"mousemove\", handleMouseMove);\n\n    // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, []);\n  useEffect(() => {\n    // í˜„ìž¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n    axios.get(\"/api/current\").then(response => {\n      setUser(response.data); // ì‚¬ìš©ìž ì •ë³´ ì„¤ì •\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n\n    // ê°•ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n    axios.get(`/api/lecture/${id}`).then(response => {\n      setLectureData(response.data);\n      setChatMessages(response.data.chatMessages || []);\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n\n    // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´ì—ì„œ í† í° ê°€ì ¸ì˜¤ê¸°\n    const token = localStorage.getItem(\"token\");\n\n    // WebSocket ì—°ê²° ì„¤ì •\n    const socket = new SockJS(\"http://localhost:8080/ws\");\n    stompClient.current = Stomp.over(socket);\n    const headers = token ? {\n      Authorization: `Bearer ${token}`\n    } : {};\n    stompClient.current.connect({}, frame => {\n      console.log(\"Connected: \" + frame);\n\n      // /topic/public ê²½ë¡œë¥¼ êµ¬ë… (ì„œë²„ì—ì„œ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ëŠ” ê²½ë¡œ)\n      stompClient.current.subscribe(\"/topic/public\", message => {\n        // ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ë•Œ ì²˜ë¦¬í•˜ëŠ” ë¡œì§\n        const chatMessage = JSON.parse(message.body);\n        setChatMessages(prevMessages => [...prevMessages, chatMessage]);\n      });\n    });\n  }, []);\n  const sendMessage = () => {\n    if (!message.trim()) {\n      console.error(\"Cannot send an empty message\");\n      return;\n    }\n    if (stompClient.current && stompClient.current.connected) {\n      const chatMessage = {\n        content: message,\n        senderId: user.id,\n        senderName: user.username\n      };\n      stompClient.current.send(\"/app/chat.sendMessage\", {}, JSON.stringify(chatMessage));\n      setMessage(\"\"); // ë©”ì‹œì§€ ì „ì†¡ í›„ ìž…ë ¥ í•„ë“œ ë¹„ìš°ê¸°\n    } else {\n      console.error(\"STOMP client is not connected\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(TitleBar, {\n      children: /*#__PURE__*/_jsxDEV(VideoTitle, {\n        children: lectureData ? lectureData.lectureName : \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContentArea, {\n      children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n        children: lectureData ? /*#__PURE__*/_jsxDEV(\"video\", {\n          width: \"100%\",\n          height: \"100%\",\n          controls: true,\n          poster: lectureData.image,\n          children: [/*#__PURE__*/_jsxDEV(\"source\", {\n            src: lectureData.url,\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), \"Your browser does not support the video tag.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading Video...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatSection, {\n        children: [chatMessages.length > 0 ? chatMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [msg.senderName, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), \" \", msg.content]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No chat messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChatControls, {\n          children: [/*#__PURE__*/_jsxDEV(ChatInput, {\n            type: \"text\",\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            placeholder: \"message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChatButton, {\n            onClick: sendMessage,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        left: `${cursorPosition.x}px`,\n        top: `${cursorPosition.y}px`,\n        pointerEvents: \"none\",\n        zIndex: 1000,\n        fontSize: \"24px\"\n      },\n      children: \"\\uD83D\\uDC40\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n}\n_s(LectureDetail, \"um/6Et16J4jS2h+QwnZlkStmNw0=\", false, function () {\n  return [useParams];\n});\n_c10 = LectureDetail;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"TitleBar\");\n$RefreshReg$(_c3, \"VideoTitle\");\n$RefreshReg$(_c4, \"ContentArea\");\n$RefreshReg$(_c5, \"VideoPlayer\");\n$RefreshReg$(_c6, \"ChatSection\");\n$RefreshReg$(_c7, \"ChatInput\");\n$RefreshReg$(_c8, \"ChatButton\");\n$RefreshReg$(_c9, \"ChatControls\");\n$RefreshReg$(_c10, \"LectureDetail\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","useParams","axios","Stomp","SockJS","jsxDEV","_jsxDEV","Container","div","_c","TitleBar","_c2","VideoTitle","h1","_c3","ContentArea","_c4","VideoPlayer","_c5","ChatSection","_c6","ChatInput","input","_c7","ChatButton","button","_c8","ChatControls","_c9","LectureDetail","_s","id","lectureData","setLectureData","chatMessages","setChatMessages","message","setMessage","user","setUser","stompClient","cursorPosition","setCursorPosition","x","y","handleMouseMove","e","pageX","pageY","document","addEventListener","removeEventListener","get","then","response","data","catch","error","console","token","localStorage","getItem","socket","current","over","headers","Authorization","connect","frame","log","subscribe","chatMessage","JSON","parse","body","prevMessages","sendMessage","trim","connected","content","senderId","senderName","username","send","stringify","children","lectureName","fileName","_jsxFileName","lineNumber","columnNumber","width","height","controls","poster","image","src","url","type","length","map","msg","index","value","onChange","target","placeholder","onClick","style","position","left","top","pointerEvents","zIndex","fontSize","_c10","$RefreshReg$"],"sources":["/Users/kimjunhoe/Documents/GitHub/UNTITLED_/src/Component/LectureDetail.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Stomp } from \"@stomp/stompjs\";\nimport SockJS from \"sockjs-client\";\n\n// ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100vh;\n  background-color: black;\n  padding: 55px;\n  box-sizing: border-box;\n`;\n\nconst TitleBar = styled.div`\n  width: 100%;\n  max-width: 1500px;\n  text-align: left;\n  margin-bottom: 30px;\n`;\n\nconst VideoTitle = styled.h1`\n  color: white;\n  font-weight: 300;\n  font-size: 40px;\n  margin: 0;\n`;\n\nconst ContentArea = styled.div`\n  display: flex;\n  width: 100%;\n  max-width: 1500px;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 30px;\n`;\n\nconst VideoPlayer = styled.div`\n  flex: 4;\n  width: 850px;\n  height: 600px;\n  background-color: #444;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n`;\n\nconst ChatSection = styled.div`\n  width: 400px;\n  height: 600px;\n  background-color: #333;\n  padding: 20px;\n  box-sizing: border-box;\n  overflow-y: auto;\n  position: relative;\n`;\n\nconst ChatInput = styled.input`\n  flex: 1;\n  height: 30px;\n  padding-left: 10px;\n  margin-top: 10px;\n  margin-right: 5px;\n  background-color: #666;\n  box-sizing: border-box;\n  /* border: 1px solid black; */\n  color: black;\n`;\n\nconst ChatButton = styled.button`\n  width: 80px;\n  height: 30px;\n  margin-top: 10px;\n  background-color: #561689;\n  color: white;\n  border: none;\n  cursor: pointer;\n`;\n\nconst ChatControls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  padding: 0 20px;\n  box-sizing: border-box;\n`;\n\nexport function LectureDetail() {\n  const { id } = useParams(); // URLì—ì„œ ê°•ì˜ ID ê°€ì ¸ì˜¤ê¸°\n  const [lectureData, setLectureData] = useState(null); // ê°•ì˜ ë°ì´í„°ë¥¼ ì €ìž¥í•  ìƒíƒœ\n  const [chatMessages, setChatMessages] = useState([]); // ì±„íŒ… ë©”ì‹œì§€ë¥¼ ì €ìž¥í•  ìƒíƒœ\n  const [message, setMessage] = useState(\"\"); // ìž…ë ¥í•œ ë©”ì‹œì§€ ìƒíƒœ\n  const [user, setUser] = useState(null); // í˜„ìž¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´\n  const stompClient = useRef(null);\n\n  //ì´ëª¨í‹°ì½˜ì˜ ìœ„ì¹˜ë¥¼ ìƒíƒœë¡œ ê´€ë¦¬\n  const [cursorPosition, setCursorPosition] = useState({ x: 0, y: 0 });\n\n  useEffect(() => {\n    // ë§ˆìš°ìŠ¤ ì´ë™ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n    const handleMouseMove = (e) => {\n      setCursorPosition({ x: e.pageX + 4, y: e.pageY + 4 });\n    };\n    document.addEventListener(\"mousemove\", handleMouseMove);\n\n    // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, []);\n\n  useEffect(() => {\n    // í˜„ìž¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n    axios\n      .get(\"/api/current\")\n      .then((response) => {\n        setUser(response.data); // ì‚¬ìš©ìž ì •ë³´ ì„¤ì •\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n\n    // ê°•ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n    axios\n      .get(`/api/lecture/${id}`)\n      .then((response) => {\n        setLectureData(response.data);\n        setChatMessages(response.data.chatMessages || []);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n\n    // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìž ì •ë³´ì—ì„œ í† í° ê°€ì ¸ì˜¤ê¸°\n    const token = localStorage.getItem(\"token\");\n\n    // WebSocket ì—°ê²° ì„¤ì •\n    const socket = new SockJS(\"http://localhost:8080/ws\");\n    stompClient.current = Stomp.over(socket);\n\n    const headers = token ? { Authorization: `Bearer ${token}` } : {};\n\n    stompClient.current.connect({}, (frame) => {\n      console.log(\"Connected: \" + frame);\n\n      // /topic/public ê²½ë¡œë¥¼ êµ¬ë… (ì„œë²„ì—ì„œ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ëŠ” ê²½ë¡œ)\n      stompClient.current.subscribe(\"/topic/public\", (message) => {\n        // ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ë•Œ ì²˜ë¦¬í•˜ëŠ” ë¡œì§\n        const chatMessage = JSON.parse(message.body);\n        setChatMessages((prevMessages) => [...prevMessages, chatMessage]);\n      });\n    });\n  }, []);\n\n  const sendMessage = () => {\n    if (!message.trim()) {\n      console.error(\"Cannot send an empty message\");\n      return;\n    }\n\n    if (stompClient.current && stompClient.current.connected) {\n      const chatMessage = {\n        content: message,\n        senderId: user.id,\n        senderName: user.username,\n      };\n\n      stompClient.current.send(\n        \"/app/chat.sendMessage\",\n        {},\n        JSON.stringify(chatMessage)\n      );\n      setMessage(\"\"); // ë©”ì‹œì§€ ì „ì†¡ í›„ ìž…ë ¥ í•„ë“œ ë¹„ìš°ê¸°\n    } else {\n      console.error(\"STOMP client is not connected\");\n    }\n  };\n\n  return (\n    <Container>\n      <TitleBar>\n        <VideoTitle>\n          {lectureData ? lectureData.lectureName : \"Loading...\"}\n        </VideoTitle>\n      </TitleBar>\n      <ContentArea>\n        <VideoPlayer>\n          {lectureData ? (\n            <video\n              width=\"100%\"\n              height=\"100%\"\n              controls\n              poster={lectureData.image}\n            >\n              <source src={lectureData.url} type=\"video/mp4\" />\n              Your browser does not support the video tag.\n            </video>\n          ) : (\n            <p>Loading Video...</p>\n          )}\n        </VideoPlayer>\n        <ChatSection>\n          {chatMessages.length > 0 ? (\n            chatMessages.map((msg, index) => (\n              <p key={index}>\n                <strong>{msg.senderName}:</strong> {msg.content}\n              </p>\n            ))\n          ) : (\n            <p>No chat messages</p>\n          )}\n          <ChatControls>\n            <ChatInput\n              type=\"text\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"message\"\n            />\n            <ChatButton onClick={sendMessage}>Send</ChatButton>\n          </ChatControls>\n        </ChatSection>\n      </ContentArea>\n      <div\n        style={{\n          position: \"absolute\",\n          left: `${cursorPosition.x}px`,\n          top: `${cursorPosition.y}px`,\n          pointerEvents: \"none\",\n          zIndex: 1000,\n          fontSize: \"24px\",\n        }}\n      >\n        ðŸ‘€\n      </div>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}